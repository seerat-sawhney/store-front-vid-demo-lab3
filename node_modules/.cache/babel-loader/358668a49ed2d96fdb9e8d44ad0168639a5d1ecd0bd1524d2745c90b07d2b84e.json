{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelRadio as _vModelRadio, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vModelText as _vModelText } from \"vue\";\nconst _hoisted_1 = {\n  class: \"store-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"id\", \"value\"];\nconst _hoisted_4 = [\"for\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"quantity-container\"\n};\nconst _hoisted_6 = {\n  key: 1,\n  class: \"total-price\"\n};\nconst _hoisted_7 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Header with store name and tagline \"), _cache[6] || (_cache[6] = _createElementVNode(\"header\", {\n    class: \"store-header\"\n  }, [_createElementVNode(\"h1\", null, \"Algonquin Pet Store\"), _createElementVNode(\"p\", {\n    class: \"tagline\"\n  }, \"Meals for Pets, Lessons for Students!\")], -1 /* HOISTED */)), _createCommentVNode(\" Animal images in the header \"), _cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"animal-images\"\n  }, [_createElementVNode(\"img\", {\n    src: \"pictures/dog.jpg\",\n    alt: \"Dog\"\n  }), _createElementVNode(\"img\", {\n    src: \"pictures/cat.jpg\",\n    alt: \"Cat\"\n  }), _createElementVNode(\"img\", {\n    src: \"pictures/bird.jpg\",\n    alt: \"Bird\"\n  })], -1 /* HOISTED */)), _createCommentVNode(\" Product selection and ordering process \"), $data.products.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Select a Product\", -1 /* HOISTED */)), _createCommentVNode(\" Display products in a list with name and price \"), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"product-item\"\n    }, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"radio\",\n      id: product.id,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedProduct = $event),\n      value: product\n    }, null, 8 /* PROPS */, _hoisted_3), [[_vModelRadio, $data.selectedProduct]]), _createElementVNode(\"label\", {\n      for: product.id\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(product.name), 1 /* TEXT */), _createTextVNode(\" - $\" + _toDisplayString(product.price ? product.price.toFixed(2) : 'N/A'), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_4)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" Quantity input field \"), $data.selectedProduct ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    for: \"quantity\"\n  }, \"Quantity:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.quantity = $event),\n    min: \"1\",\n    placeholder: \"Enter quantity\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.quantity]])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Total Price Display \"), $data.selectedProduct ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"h3\", null, \"Total Price: $\" + _toDisplayString($options.totalPrice.toFixed(2)), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.submitOrder && $options.submitOrder(...args)),\n    disabled: !$data.selectedProduct || $data.quantity <= 0,\n    class: \"order-button\"\n  }, \"Place Order\", 8 /* PROPS */, _hoisted_7)])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Loading message if no products are fetched yet \"), _cache[5] || (_cache[5] = _createElementVNode(\"div\", null, [_createElementVNode(\"p\", null, \"Loading products...\")], -1 /* HOISTED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","src","alt","$data","products","length","_hoisted_2","_Fragment","_renderList","product","id","type","_cache","$event","selectedProduct","value","_hoisted_3","for","_toDisplayString","name","_createTextVNode","price","toFixed","_hoisted_4","_hoisted_5","quantity","min","placeholder","_hoisted_6","$options","totalPrice","onClick","args","submitOrder","disabled","_hoisted_7"],"sources":["/Users/seeratsawhney/Desktop/lab3/store-front-vid-demo/src/components/OrderForm.vue"],"sourcesContent":["<template>\n  <div class=\"store-container\">\n    <!-- Header with store name and tagline -->\n    <header class=\"store-header\">\n      <h1>Algonquin Pet Store</h1>\n      <p class=\"tagline\">Meals for Pets, Lessons for Students!</p>\n    </header>\n\n    <!-- Animal images in the header -->\n    <div class=\"animal-images\">\n      <img src=\"pictures/dog.jpg\" alt=\"Dog\" />\n      <img src=\"pictures/cat.jpg\" alt=\"Cat\" />\n      <img src=\"pictures/bird.jpg\" alt=\"Bird\" />\n    </div>\n\n    <!-- Product selection and ordering process -->\n    <div v-if=\"products.length\">\n      <h2>Select a Product</h2>\n\n      <!-- Display products in a list with name and price -->\n      <div v-for=\"product in products\" :key=\"product.id\" class=\"product-item\">\n        <input\n          type=\"radio\"\n          :id=\"product.id\"\n          v-model=\"selectedProduct\"\n          :value=\"product\"\n        />\n        <label :for=\"product.id\">\n          <strong>{{ product.name }}</strong> - ${{ product.price ? product.price.toFixed(2) : 'N/A' }}\n        </label>\n      </div>\n\n      <!-- Quantity input field -->\n      <div v-if=\"selectedProduct\" class=\"quantity-container\">\n        <label for=\"quantity\">Quantity:</label>\n        <input type=\"number\" v-model=\"quantity\" min=\"1\" placeholder=\"Enter quantity\" />\n      </div>\n\n      <!-- Total Price Display -->\n      <div v-if=\"selectedProduct\" class=\"total-price\">\n        <h3>Total Price: ${{ totalPrice.toFixed(2) }}</h3>\n      </div>\n\n      <button @click=\"submitOrder\" :disabled=\"!selectedProduct || quantity <= 0\" class=\"order-button\">Place Order</button>\n    </div>\n\n    <!-- Loading message if no products are fetched yet -->\n    <div v-else>\n      <p>Loading products...</p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      selectedProduct: null,\n      quantity: 1,  // Initialize quantity with a default value of 1\n    };\n  },\n  async created() {\n    await this.fetchProducts();\n  },\n  computed: {\n    totalPrice() {\n      return this.selectedProduct ? this.selectedProduct.price * this.quantity : 0;\n    }\n  },\n  methods: {\n    async fetchProducts() {\n      try {\n        const response = await fetch(`${process.env.VUE_APP_PRODUCT_SERVICE_URL}/products`);        \n        if (response.ok) {\n          this.products = await response.json();\n        } else {\n          alert('Failed to fetch products.');\n        }\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        alert('Failed to fetch products.');\n      }\n    },\n    async submitOrder() {\n      if (!this.selectedProduct || this.quantity <= 0) {\n        alert('Please select a product and enter a valid quantity.');\n        return;\n      }\n\n      try {\n        const response = await fetch(`${process.env.VUE_APP_ORDER_SERVICE_URL}/orders`, {          \n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            product: this.selectedProduct,\n            quantity: this.quantity,\n            totalPrice: this.totalPrice,  // Send the total price as well\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error(`Server error: ${response.status}`);\n        }\n\n        alert(`Order for ${this.quantity} x ${this.selectedProduct.name} placed successfully! Total: $${this.totalPrice.toFixed(2)}`);\n      } catch (error) {\n        console.error('Error placing order:', error);\n        alert('Failed to place order.');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n/* Container for the store */\n.store-container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: rgba(255, 255, 255, 0.9); /* Make the container semi-transparent */\n  border-radius: 10px;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);\n}\n\n/* Header for store name and tagline */\n.store-header {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.store-header h1 {\n  font-size: 2.5rem;\n  color: #42b983;\n  margin: 0;\n}\n\n.store-header .tagline {\n  font-size: 1.2rem;\n  color: #777;\n  margin-top: 10px;\n  font-style: italic;\n}\n\n/* Header animal images */\n.animal-images {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20px;\n}\n\n.animal-images img {\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  object-fit: cover;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n}\n\nh2, h3 {\n  text-align: center;\n  color: #42b983;\n}\n\n.product-item {\n  display: flex;\n  align-items: center;\n  margin: 10px 0;\n  padding: 10px;\n  border: 2px solid #42b983;\n  border-radius: 10px;\n  background-color: #e3f2fd;\n}\n\n.product-item label {\n  margin-left: 10px;\n  font-size: 1.1rem;\n}\n\n/* Styling the quantity input field */\n.quantity-container {\n  margin-top: 15px;\n  display: flex;\n  align-items: center;\n}\n\n.quantity-container label {\n  margin-right: 10px;\n}\n\ninput[type=\"number\"] {\n  padding: 8px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n}\n\n/* Total price display */\n.total-price {\n  margin-top: 20px;\n  text-align: center;\n  font-size: 1.3rem;\n  font-weight: bold;\n  color: #ff6f00;\n}\n\n/* Place Order button */\n.order-button {\n  margin-top: 20px;\n  padding: 10px 20px;\n  background-color: #42b983;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n  font-size: 1.1rem;\n  transition: background-color 0.3s ease;\n}\n\n.order-button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.order-button:hover:enabled {\n  background-color: #2e7d32;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}